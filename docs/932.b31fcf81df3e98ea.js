"use strict";(self.webpackChunkEcommerce=self.webpackChunkEcommerce||[]).push([[932],{6666:(F,_,r)=>{r.r(_),r.d(_,{LoginComponent:()=>C});var p=r(6814),l=r(95),d=r(1120),c=r(5904),f=r.n(c),n=r(4769),v=r(9410);function h(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1," Please enter your email. "),n.qZA())}function T(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1," Email must be valid! "),n.qZA())}function Z(o,a){if(1&o&&(n.TgZ(0,"div",18),n.YNc(1,h,2,0,"p",19),n.YNc(2,T,2,0,"p",19),n.qZA()),2&o){const t=n.oxw();let i,e;n.xp6(1),n.Q6J("ngIf",null==(i=t.loginForm.get("email"))?null:i.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(e=t.loginForm.get("email"))?null:e.getError("email"))}}function E(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1," Please enter your password. "),n.qZA())}function w(o,a){1&o&&(n.TgZ(0,"p"),n._uU(1," Password must be 6 characters at least! "),n.qZA())}function I(o,a){if(1&o&&(n.TgZ(0,"div",18),n.YNc(1,E,2,0,"p",19),n.YNc(2,w,2,0,"p",19),n.qZA()),2&o){const t=n.oxw();let i,e;n.xp6(1),n.Q6J("ngIf",null==(i=t.loginForm.get("password"))?null:i.getError("required")),n.xp6(1),n.Q6J("ngIf",null==(e=t.loginForm.get("password"))?null:e.getError("pattern"))}}function L(o,a){1&o&&n._UZ(0,"i",20)}function A(o,a){if(1&o&&(n.TgZ(0,"p",21),n._uU(1),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.hij(" ",t.errorMsg," ")}}let C=(()=>{class o{constructor(t,i){this._AuthService=t,this._Router=i,this.isLoading=!1,this.errorMsg="",this.container=null,this.loginForm=new l.cw({email:new l.NI("",[l.kI.required,l.kI.email]),password:new l.NI("",[l.kI.required,l.kI.pattern(/^\w{6,}$/)])})}loginData(){this.isLoading=!0,this.loginForm.valid&&this._AuthService.login(this.loginForm.value).subscribe({next:t=>{this.isLoading=!1,"success"===t.message&&(localStorage.setItem("_token",t.token),this._Router.navigate(["/home"]))},error:t=>{this.isLoading=!1,this.errorMsg=t.error.message}})}ngAfterViewInit(){this.container=document.getElementById("your-animation-container-login"),this.container&&(this.animation=f().loadAnimation({container:this.container,renderer:"svg",loop:!0,autoplay:!0,path:"./assets/images/freshCart.json"}))}static#n=this.\u0275fac=function(i){return new(i||o)(n.Y36(v.e),n.Y36(d.F0))};static#o=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],standalone:!0,features:[n.jDz],decls:23,vars:10,consts:[[1,"pb-3"],[1,"row","justify-content-center","align-items-center"],[1,"col-lg-5"],[1,"",3,"formGroup","ngSubmit"],[1,"form-floating","mb-2"],["type","email","id","email","formControlName","email","placeholder","enter your email",1,"form-control","mt-1"],["for","email"],["class","text-invalid",4,"ngIf"],[1,"form-floating"],["type","password","id","password","formControlName","password","placeholder","enter your password",1,"form-control","mt-1"],["for","password"],[1,"d-flex","justify-content-between","align-items-center"],["type","submit",1,"main-btn","rounded-pill","mt-3","ms-1","d-block","me-auto","px-4","py-2",3,"disabled"],["class","fa-solid fa-circle-notch fa-spin",4,"ngIf"],["role","button","routerLink","/forgotpassword",1,"mt-1","small","main-color"],["class","text-invalid mx-auto content-fit mt-3",4,"ngIf"],[1,"col-lg-7"],["id","your-animation-container-login"],[1,"text-invalid"],[4,"ngIf"],[1,"fa-solid","fa-circle-notch","fa-spin"],[1,"text-invalid","mx-auto","content-fit","mt-3"]],template:function(i,e){if(1&i&&(n.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3),n.NdJ("ngSubmit",function(){return e.loginData()}),n.TgZ(4,"div",4),n._UZ(5,"input",5),n.TgZ(6,"label",6),n._uU(7,"Email:"),n.qZA(),n.YNc(8,Z,3,2,"div",7),n.qZA(),n.TgZ(9,"div",8),n._UZ(10,"input",9),n.TgZ(11,"label",10),n._uU(12,"password:"),n.qZA(),n.YNc(13,I,3,2,"div",7),n.qZA(),n.TgZ(14,"div",11)(15,"button",12),n._uU(16," Login "),n.YNc(17,L,1,0,"i",13),n.qZA(),n.TgZ(18,"span",14),n._uU(19,"Forgot password?"),n.qZA()(),n.YNc(20,A,2,1,"p",15),n.qZA()(),n.TgZ(21,"div",16),n._UZ(22,"div",17),n.qZA()()()),2&i){let s,m,g,u;n.xp6(3),n.Q6J("formGroup",e.loginForm),n.xp6(2),n.Tol(null!=(s=e.loginForm.get("email"))&&s.errors&&(null!=(s=e.loginForm.get("email"))&&s.touched||(null==(s=e.loginForm.get("email"))?null:s.value.length)>0)?"is-invalid":""),n.xp6(3),n.Q6J("ngIf",(null==(m=e.loginForm.get("email"))?null:m.errors)&&((null==(m=e.loginForm.get("email"))?null:m.touched)||(null==(m=e.loginForm.get("email"))?null:m.value.length)>0)),n.xp6(2),n.Tol(null!=(g=e.loginForm.get("password"))&&g.errors&&(null!=(g=e.loginForm.get("password"))&&g.touched||(null==(g=e.loginForm.get("password"))?null:g.value.length)>0)?"is-invalid":""),n.xp6(3),n.Q6J("ngIf",(null==(u=e.loginForm.get("password"))?null:u.errors)&&((null==(u=e.loginForm.get("password"))?null:u.touched)||(null==(u=e.loginForm.get("password"))?null:u.value.length)>0)),n.xp6(2),n.Q6J("disabled",e.loginForm.invalid),n.xp6(2),n.Q6J("ngIf",e.isLoading),n.xp6(3),n.Q6J("ngIf",e.errorMsg)}},dependencies:[p.ez,p.O5,l.UX,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,d.rH],styles:["@media screen and (max-width: 992px){.row[_ngcontent-%COMP%]{flex-direction:column-reverse}}"]})}return o})()}}]);