"use strict";(self.webpackChunkEcommerce=self.webpackChunkEcommerce||[]).push([[80],{5080:(v,_,e)=>{e.r(_),e.d(_,{WishlistComponent:()=>T});var a=e(6814),h=e(1120),d=e(8129),t=e(4769),n=e(6968),g=e(2425),r=e(6286);function l(i,u){1&i&&(t.TgZ(0,"div",4),t._UZ(1,"img",5),t.TgZ(2,"h3"),t._uU(3,"Your "),t.TgZ(4,"span",6),t._uU(5,"Wishlist"),t.qZA(),t._uU(6," Is Empty!"),t.qZA()())}function C(i,u){1&i&&(t.TgZ(0,"div",7)(1,"h3",8),t._uU(2,"Your "),t.TgZ(3,"span",6),t._uU(4,"Wishlist"),t.qZA()()())}const f=function(i){return["/details",i]};function E(i,u){if(1&i){const s=t.EpF();t.TgZ(0,"div",11)(1,"div",12)(2,"div",13),t.NdJ("click",function(){const p=t.CHM(s).$implicit,m=t.oxw(2);return t.KtG(m.removeWish(p._id))}),t._UZ(3,"i",14),t.qZA(),t.TgZ(4,"div",15),t._UZ(5,"img",16),t.TgZ(6,"div",17)(7,"h4",18),t._uU(8),t.qZA(),t.TgZ(9,"h3",19),t._uU(10),t.ALo(11,"cuttext"),t.qZA(),t.TgZ(12,"div",20)(13,"span",21),t._uU(14),t.ALo(15,"currency"),t.qZA(),t.TgZ(16,"div",22),t._UZ(17,"i",23),t.TgZ(18,"span"),t._uU(19),t.qZA()()()()(),t.TgZ(20,"button",24),t.NdJ("click",function(){const p=t.CHM(s).$implicit,m=t.oxw(2);return t.KtG(m.addProduct(p._id))}),t._UZ(21,"i",25),t._uU(22," Add to cart "),t.qZA()()()}if(2&i){const s=u.$implicit;t.xp6(4),t.Q6J("routerLink",t.VKq(12,f,s._id)),t.xp6(1),t.Q6J("src",s.imageCover,t.LSH),t.xp6(3),t.hij(" ",s.category.name," "),t.xp6(2),t.Oqu(t.xi3(11,6,s.title,3)),t.xp6(4),t.Oqu(t.xi3(15,9,s.price,"EGP ")),t.xp6(5),t.hij(" ",s.ratingsAverage,"")}}function x(i,u){if(1&i&&(t.TgZ(0,"div",9),t.YNc(1,E,23,14,"div",10),t.qZA()),2&i){const s=t.oxw();t.xp6(1),t.Q6J("ngForOf",s.wishlistData)}}let T=(()=>{class i{constructor(s,c,o){this._WishlistService=s,this._ToastrService=c,this._CartService=o,this.wishlistData=[],this.isEmpty=!0}ngOnInit(){this._WishlistService.getWishList().subscribe({next:({data:s})=>{0==s.length?this.isEmpty=!0:(this.wishlistData=s,this.isEmpty=!1)}})}addProduct(s){this._CartService.addToCart(s).subscribe({next:c=>{this._CartService.cartNumber.next(c.numOfCartItems),this._ToastrService.success(c.message)}})}removeWish(s){this._WishlistService.removeWishList(s).subscribe({next:c=>{this._WishlistService.getWishList().subscribe({next:({data:o})=>{0==o.length?this.isEmpty=!0:(this.wishlistData=o,this.isEmpty=!1)}}),this._ToastrService.success("Product removed successfully from your wishlist"),this._WishlistService.wishCount.next(c.data.length),0==c.data.length&&(this.isEmpty=!0)}})}static#t=this.\u0275fac=function(c){return new(c||i)(t.Y36(n.m),t.Y36(g._W),t.Y36(r.N))};static#s=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-wishlist"]],standalone:!0,features:[t.jDz],decls:4,vars:3,consts:[[1,"pt-5"],["class","cartCaption text-center",4,"ngIf"],["class","secTitle mb-4",4,"ngIf"],["class","row g-4 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-4",4,"ngIf"],[1,"cartCaption","text-center"],["src","./assets/images/wishlist.svg","alt","",1,"my-5","wishlist","w-100"],[1,"main-color"],[1,"secTitle","mb-4"],[1,"text-center"],[1,"row","g-4","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-3","row-cols-xl-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","justify-content-around","align-items-center","p-2"],[1,"removeWish-btn","main-color",3,"click"],[1,"fa-solid","fa-heart"],[3,"routerLink"],["alt","",1,"w-100",3,"src"],[1,"productDetails","p-1","pt-2"],[1,"small","main-color","fw-bolder"],[1,"small"],[1,"product-footer","small","d-flex","justify-content-between","align-items-center"],[1,""],[1,"rating"],[1,"fa-solid","fa-star","rating-color"],[1,"main-btn","small","card-btn","w-100",3,"click"],[1,"fa-solid","fa-plus"]],template:function(c,o){1&c&&(t.TgZ(0,"section",0),t.YNc(1,l,7,0,"div",1),t.YNc(2,C,5,0,"div",2),t.YNc(3,x,2,1,"div",3),t.qZA()),2&c&&(t.xp6(1),t.Q6J("ngIf",o.isEmpty),t.xp6(1),t.Q6J("ngIf",!o.isEmpty),t.xp6(1),t.Q6J("ngIf",!o.isEmpty))},dependencies:[a.ez,a.sg,a.O5,a.H9,h.rH,d.r],styles:[".wishlist[_ngcontent-%COMP%]{max-width:500px}"]})}return i})()},6286:(v,_,e)=>{e.d(_,{N:()=>t});var a=e(5619),h=e(4769),d=e(9862);let t=(()=>{class n{constructor(r){this._HttpClient=r,this.baseUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new a.X(0)}addToCart(r){return this._HttpClient.post(this.baseUrl+"cart",{productId:r})}getCartUser(){return this._HttpClient.get(this.baseUrl+"cart")}updateCartCount(r,l){return this._HttpClient.put(this.baseUrl+`cart/${r}`,{count:l})}removeCartItem(r){return this._HttpClient.delete(this.baseUrl+`cart/${r}`)}clearCart(){return this._HttpClient.delete(this.baseUrl+"cart")}checkOut(r,l){return this._HttpClient.post(this.baseUrl+`orders/checkout-session/${r}?url=http://localhost:4200`,{shippingAddrees:l})}getOrders(r){return this._HttpClient.get(this.baseUrl+`orders/user/${r}`)}static#t=this.\u0275fac=function(l){return new(l||n)(h.LFG(d.eN))};static#s=this.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);